
@{
    ViewBag.Title = "Player_Chart";
}

<html>
<head>
 
    <link rel="stylesheet" href="@Url.Content("~/Content/highslide.css")" type="text/css" />
    <link rel="stylesheet" href="@Url.Content("~/Content/bootstrap/bootstrap.min.css")" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,700,400italic" type="text/css" />
    <link rel="stylesheet" href="@Url.Content("~/Content/bootstrap/font-awesome.css")" type="text/css" />
    <link rel="stylesheet" href="@Url.Content("~/Content/bootstrap/template.css")" type="text/css" />
    <link rel="stylesheet" href="@Url.Content("~/Content/gallery.css")" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="@Url.Content("~/Scripts/highslide-full.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/highslide.config.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/bootstrap.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/modernizr.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/script.js")" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            //alert("document ready occurred!");
            $(function () {
                var getUrlParameter = function getUrlParameter(sParam) {
                    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
                        sURLVariables = sPageURL.split('&'),
                        sParameterName,
                        i;
                    for (i = 0; i < sURLVariables.length; i++) {
                        sParameterName = sURLVariables[i].split('=');
                        if (sParameterName[0] === sParam) {
                            return sParameterName[1] === undefined ? true : sParameterName[1];
                        }
                    }
                };

                var year = getUrlParameter('year');
                //alert(year);
                if (year == "2015") {
                    // alert("first");
                    $("#heading").html("List of players in 2015");
                    var yr = 2015;
                    $.ajax({
                        url: '@Url.Action("getPlayerDetails", "Home", new { year = "2015" })',
                        dataType: "JSON",
                        type: "POST",
                        //data: {year:yr.toString()},
                        contentType: "application/json; charset=utf-8",
                        error: function (err) {
                            alert("Error:" + err.toString());
                        },
                        success: function (data) {
                            //alert("In success" + data);
                            var showL = []
                            showL = data.toString().split(",");
                            var finalNames = [];

                            for (var i = 0, j = 0; i < showL.length; i += 2, j++) {
                                finalNames[j] = showL[i] + "," + showL[i + 1];
                                //alert("After split " + finalNames[j]);
                            }
                            $("#divPlayerName").empty();
                            var cList = $('#divPlayerName')
                            // $.each(finalNames, function (index, u) {

                            for (var i = 0; i < finalNames.length; i++) {
                                //alert(i);
                                //var li = $('<li/>').addClass('list-group-item').attr('role', 'menuitem').appendTo(cList);
                                var a = $('<a/>').addClass('list-group-item').attr('id', finalNames[i]).attr('href', '/Home/Player_Chart?demo=' + finalNames[i].toString() + '&chartType=ColumnBasic&year=2015').text(finalNames[i].toString()).on('click', function () {
                                    var name = $(this).text();
                                    //alert(name);
                                    @*@ViewBag.newName = name;
                                    alert(@ViewBag.newName);*@
                                    //$(this).attr('href', '@Url.Action("Player_Chart", "Home", new { demo = @ViewBag.newName } )');
                                    @*$("#container").empty();
                                    $("#container").html(@Html.Action("ColumnBasic", "ColumnBasic", new { name = @ViewBag.name }));*@
                                    //$.ajax({
                                    //    url: '/ColumnBasic/ColumnBasic/',
                                    //    dataType: "JSON",
                                    //    type: "POST",
                                    //    data: { name: name.toString()},
                                    //    contentType: "application/json; charset=utf-8",
                                    //    error: function (err) {
                                    //        alert("Error:" + err.toString());
                                    //    },
                                    //    success: function (data) {
                                    //        alert("In success" + data);
                                    //    }
                                    //    });
                                    }).appendTo(cList);
                            }
                            // });

                        }
                    });
                }
                else {
                    //alert("second");
                    $("#heading").html("List of players in 2014");
                    var yr = 2015;
                    $.ajax({
                        url: '@Url.Action("getPlayerDetails", "Home", new { year = "2014"})',
                        dataType: "JSON",
                        type: "POST",
                        //data: {year:yr.toString()},
                        contentType: "application/json; charset=utf-8",
                        error: function (err) {
                            alert("Error:" + err.toString());
                        },
                        success: function (data) {
                            //alert("In success" + data);
                            var showL = []
                            showL = data.toString().split(",");
                            var finalNames = [];

                            for (var i = 0, j = 0; i < showL.length; i += 2, j++) {
                                finalNames[j] = showL[i] + "," + showL[i + 1];
                                //alert("After split " + finalNames[j]);
                            }
                            $("#divPlayerName").empty();
                            var cList = $('#divPlayerName')
                            // $.each(finalNames, function (index, u) {

                            for (var i = 0; i < finalNames.length; i++) {
                                //alert(i);
                                //var li = $('<li/>').addClass('list-group-item').attr('role', 'menuitem').appendTo(cList);
                                var a = $('<a/>').addClass('list-group-item').attr('id', finalNames[i]).attr('href', '/Home/Player_Chart?demo=' + finalNames[i].toString() + '&chartType=ColumnBasic&year=2014').text(finalNames[i].toString()).on('click', function () {
                                    var name = $(this).text();
                                    //alert(name);
                                    @*@ViewBag.newName = name;
                                    alert(@ViewBag.newName);*@
                                    //$(this).attr('href', '@Url.Action("Player_Chart", "Home", new { demo = @ViewBag.newName } )');
                                    @*$("#container").empty();
                                    $("#container").html(@Html.Action("ColumnBasic", "ColumnBasic", new { name = @ViewBag.name }));*@
                                    //$.ajax({
                                    //    url: '/ColumnBasic/ColumnBasic/',
                                    //    dataType: "JSON",
                                    //    type: "POST",
                                    //    data: { name: name.toString()},
                                    //    contentType: "application/json; charset=utf-8",
                                    //    error: function (err) {
                                    //        alert("Error:" + err.toString());
                                    //    },
                                    //    success: function (data) {
                                    //        alert("In success" + data);
                                    //    }
                                    //    });
                                    }).appendTo(cList);
                            }
                            // });

                        }
                    });
                }
            });

   


        });


    </script>
    <style>
        a.list-group-item:hover, a.list-group-item:focus {
             text-decoration: none !important;
             background-color: #3A3A4F !important;
             color: #90ef7f !important;
             font-weight: bold;
        }

        .nav > li > a:hover, .nav > li > a:focus {
             text-decoration: none;
             background-color: #3A3A4F !important;
             color: #90ef7f !important;
             font-weight: bold;
        }

        a.list-group-item {
            background-color: #3e5477 !important;
            color: white !important;
            font-weight: bold !important;
        }

        .container {
            max-width: 2800px !important;
        }
        .list-group > li.active > ul > li.active > a {
           color: white !important;
           background-color: #8085e8 !important;
        }
        /*.body-content {
           padding-left: 15px;
           padding-right: 15px;
           background-color: whitesmoke;
        }*/
    </style>

</head>
<body >
    <div id="hs-component" style="background-color:whitesmoke;width:120%;height:120%;margin-left:-1em;">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid" style="background-color: #3A3A4F;">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="~/Home/Index" style="font-weight:bold;color: whitesmoke;">Bearcat Football</a>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar" style="background-color: #3A3A4F;">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="~/Home/Index" style="font-weight:bold;color: whitesmoke;">HOME</a></li>
                        @*<li><a href="#band">SEASONS</a></li>
                        <li><a href="#contact">CONTACT</a></li>*@
                        <li><a href="~/Home/Glossary" style="font-weight:bold;color: whitesmoke;">GLOSSARY</a></li>
                        @*<li><a href="#"><span class="glyphicon glyphicon-search"></span></a></li>*@
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container" >
            <div id="wrap" class="sidebar-wrapper">
                <div id="comp-menu" class="col-lg-12 col-md-12 col-sm-12 col-xs-12 hidden-xs">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-9"></div>
                    <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 cont">
                        <h2 class="demo-name"></h2>
                        @*<div class="btn-group theme">
                                <a class="btn btn-theme @ViewBag.DefaultDisabled" href="?theme=default">Default</a>
                                <a class="btn btn-theme @ViewBag.DarkUnicaDisabled" href="?theme=dark-unica">Dark Unica</a>
                                <a class="btn btn-theme @ViewBag.SandSignikaDisabled" href="?theme=sand-signika">Sand Signika</a>
                                <a class="btn btn-theme @ViewBag.GridLightDisabled" href="?theme=grid-light">Grid Light</a>
                            </div>*@
                    </div>
                    <div class="clearfix"></div>
                </div>

                @*<div class="col-lg-3 col-md-3 col-sm-3 col-xs-9 sidebar">
                    <ul class="nav nav-sidebar">
                        <li class="active">
                            @*<div class="active"><span>Line charts</span><icon class="toggle"></icon></div>*@
                @*<div style="display: block;" id="divPlayerName" class="list-group">
                    @*<li class="">
                        <a aria-label="http://www.highcharts.com/demo/column-basic" href="@Url.Action("Player_Chart", "Home", new { demo = "ColumnBasic", theme = ViewBag.Theme } )">Basic line						</a>
                    @*</li>*@
                @*</div>*@
                @* </li>*@
                @* </ul>*@
                @*</div>*@

                <div class="container col-lg-3 col-md-3 col-sm-3 col-xs-9 sidebar">
                    <h4 id="heading" style="font-family: 'Roboto', sans-serif;color: indianred;font-weight: bold;"></h4>
                    <div class="list-group" id="divPlayerName">
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-9 sidebar-fill"></div>
                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 sidebar-eq demo" style="margin-top:3em;">
                    @*<a id="sidebar-close" class="btn-default visible-xs">&laquo; Hide Menu</a>
                    <div id="chart-switcher" class="visible-xs">
                        <a id="previous-example"><i class="fa fa-angle-left"></i></a>
                        <h2 class="demo-name"></h2>
                        <a id="next-example" title="Next (arrow right)"
                           href="http://www.highcharts.com/demo/line-ajax"><i class="fa fa-angle-right"></i></a>
                    </div>*@
                    <ul class="nav nav-tabs">
                        <li class="list-group-item " style="cursor: pointer;margin-left:10em;background-color: aliceblue;"><a href="@Url.Action("Player_Chart", "Home", new { demo = (string)@ViewBag.name, chartType = "ColumnBasic",year = (string)@ViewBag.year } )" style="font-weight:bold">Rushing & Receiving</a></li>
                        <li id="tackleChart" style="cursor: pointer;background-color: aliceblue;" class="list-group-item "><a href="@Url.Action("Player_Chart", "Home", new { demo = (string)@ViewBag.name, chartType = "BarStacked",year = (string)@ViewBag.year } )" style="font-weight:bold">Tackle</a></li>
                        <li style="cursor: pointer;background-color: aliceblue;" class="list-group-item "><a href="@Url.Action("Player_Chart", "Home", new { demo = (string)@ViewBag.name, chartType = "PieDrilldown" ,year = (string)@ViewBag.year } )" style="font-weight:bold">Passing</a></li>
                        <li style="cursor: pointer;background-color: aliceblue;" class="list-group-item "><a href="@Url.Action("Player_Chart", "Home", new { demo = (string)@ViewBag.name, chartType = "Column3DNullValues" ,year = (string)@ViewBag.year } )" style="font-weight:bold">Kick Return</a></li>
                    </ul>

                    <div class="tab-content">
                        <div id="home" class="tab-pane fade in active">
                            <div id="container" style="width: 100%; height: auto; margin: 0 auto;margin-top:3em;margin-left:1em;">

                                @Html.Action((String)@ViewBag.type, (String)@ViewBag.type, new { name = (String)@ViewBag.name, year = (String)@ViewBag.year })

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 sidebar-eq-fill"></div>
                <div class="clearfix"></div>
            </div>

        </div>
    </div>
</body>
</html>


